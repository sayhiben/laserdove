# example-config.toml
[joint]
thickness_mm        = 6.35
edge_length_mm      = 100.0
dovetail_angle_deg  = 8.0
num_tails           = 3
tail_outer_width_mm = 20.0
tail_depth_mm       = 6.35
socket_depth_mm     = 6.60
clearance_mm        = 0.05
kerf_tail_mm        = 0.15
kerf_pin_mm         = 0.15

[jig]
axis_to_origin_mm   = 30.0
rotation_zero_deg   = 0.0
rotation_speed_dps  = 30.0

[machine]
cut_speed_tail_mm_s = 10.0
cut_speed_pin_mm_s  = 8.0
rapid_speed_mm_s    = 200.0
z_speed_mm_s        = 5.0
cut_power_tail_pct  = 60.0
cut_power_pin_pct   = 65.0
travel_power_pct    = 0.0
z_zero_tail_mm      = 0.0
z_zero_pin_mm       = 0.0

[backend]
# If use_dummy = true, novadovetail will use DummyLaser/DummyRotary
# regardless of ruida_host.
use_dummy = false
laser_backend = "dummy"  # "dummy" or "ruida"
rotary_backend = "dummy" # "dummy" or "real"
rotary_steps_per_rev = 4000.0  # pulses per rev from driver (CL57T default)
rotary_microsteps = 1         # optional extra microstep multiplier
rotary_pin_numbering = "board"  # "board" for physical pin numbers, "bcm" for BCM
rotary_max_step_rate_hz = 500.0
# Keep the laser off but still move the head when talking to a real Ruida.
# Useful for first hardware shakedowns without firing the tube.
movement_only = false
rotary_step_pin_pos = 11  # PUL+ (physical pin 11; PUL- tied to GND)
rotary_dir_pin_pos  = 13  # DIR+ (physical pin 13; DIR- tied to GND)
# rotary_step_pin = 6       # optional PUL- if you drive negative side instead of PUL+
# rotary_dir_pin  = 14      # optional DIR- if you drive negative side instead of DIR+
# rotary_enable_pin = 25    # optional, active low (omit if not wired)
# rotary_alarm_pin  = 18    # optional input (omit if not wired)
rotary_invert_dir = false
ruida_host = "192.168.1.100"
ruida_port = 50200
